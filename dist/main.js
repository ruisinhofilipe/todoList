(()=>{"use strict";const e=(e,t,o,...l)=>{const n=document.createElement(e);for(let e in t)n.setAttribute(e,t[e]);return n.textContent=o,l.forEach((e=>{n.appendChild(e)})),n};let t,o=[];const l=document.querySelector(".addProject-popup"),n=document.querySelector(".overlay");function c(){document.querySelectorAll(".projectsNameDiv").forEach((e=>{o.indexOf(t)==e.getAttribute("index")?e.classList.add("clicked"):e.classList.remove("clicked")}))}function i(){document.querySelector(".addPrj").addEventListener("click",(()=>{document.querySelector(".addProject-popup").classList.add("visible"),n.classList.add("visible")})),function(e){let t=document.querySelectorAll(".projectsNameDiv");for(let e=0;e<t.length;e++)t[e].remove()}(),o.forEach((l=>{let n=o.indexOf(l);const r=e("div",{class:"projectsNameDiv",index:n}),s=e("div",{class:"projectsName"},l),a=e("button",{class:"removeProject"},"x");r.appendChild(s),r.appendChild(a),document.querySelector(".displayProjects").appendChild(r),r.addEventListener("click",(()=>{t=r.querySelector(".projectsName").textContent,m(o.indexOf(t)),i(),c()})),a.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();let l=a.parentNode.getAttribute("index");o.splice(l,1),d.splice(l,1),1==o.length?(t=o[0],i(),m(o.indexOf(t)),c()):o.includes(t)?(i(),m(o.indexOf(t)),c()):o.includes(t)?(t="",i(),removeDom(".displayTodo")):(t=o[0],i(),m(o.indexOf(t)),c())}))}))}const d=[],r=document.querySelector(".displayTodos"),s=document.querySelector(".addTodo"),a=document.querySelector(".new-project-form"),u=document.querySelector(".overlay");function m(l){u.classList.remove("visible"),a.classList.remove("visible"),document.querySelectorAll(".displayTodo").forEach((e=>{e.remove()}));let n=0;if(o.length>0)for(let c=0;c<d[l].length;c++){const i=e("div",{class:"displayTodo"},void 0);for(let t in d[l][c])i.appendChild(e("p",{class:`${t}Todo`},`${t}: ${d[l][c][t]}`));const s=e("button",{class:"removeTodo",indexParagraph:n},"x");i.appendChild(s),r.appendChild(i),n++,s.addEventListener("click",(()=>{d[o.indexOf(t)].splice(s.getAttribute("indexParagraph"),1),m(o.indexOf(t))}))}}function p(){document.getElementById("title").value="",document.getElementById("dueDate").value=""}i(),document.querySelector(".confirmButton").addEventListener("click",(()=>{var e;null===(e=document.getElementById("titleProject").value)||o.includes(e)||""===e||" "===e?alert("Please, introduce a valid project name or you that you haven't introduced yet."):(o.push(e),d.push([]),document.getElementById("titleProject").value="",l.classList.remove("visible"),n.classList.remove("visible"),t=e,i(),document.querySelector(".noProjectsDiv").style.display="none"),c(),m(o.indexOf(t))})),document.querySelector(".cancelButton").addEventListener("click",(()=>{document.querySelector(".addProject-popup").classList.remove("visible"),n.classList.remove("visible")})),s.addEventListener("click",(()=>{u.classList.add("visible"),a.classList.add("visible")})),document.querySelector(".confirmButtonForm").addEventListener("click",(e=>{e.preventDefault(),function(){if(0===o.length)document.querySelector(".noProjectsDiv").style.display="block",p();else{let e=document.getElementById("title").value,l=document.getElementById("dueDate").value;""==l&&(l="No date preview");let n=document.getElementById("priority").options[document.getElementById("priority").selectedIndex].text;d[o.indexOf(t)].push(((e,t,o)=>({title:e,dueDate:t,priority:o}))(e,l,n)),document.querySelector(".noProjectsDiv").style.display="none",m(o.indexOf(t)),p()}}(),function(){if(d.length>=1){const e=document.querySelectorAll(".titleTodo"),t=document.querySelectorAll(".dueDateTodo"),o=document.querySelectorAll(".priorityTodo");e.forEach((e=>{let t=e.textContent.replace(/title:/g,"");e.textContent=t})),t.forEach((e=>{let t=e.textContent.replace(/dueDate:/g,"Deadline:");e.textContent=t})),o.forEach((e=>{let t=e.textContent.replace(/priority:/g,"");e.textContent=t," Super important"===e.textContent?(e.style.color="#f5b507",e.style.fontWeight="900"):" Important"===e.textContent?(e.style.color="#e9f542",e.style.fontWeight="900"):e.style.color="#84f542"}))}}()})),document.querySelector(".cancelButtonForm").addEventListener("click",(e=>{e.preventDefault(),u.classList.remove("visible"),a.classList.remove("visible")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUt2RSxZQUFZc0UsUUFBUSxZQUFhLGFBQ3JEQyxFQUFLdkUsWUFBY3dFLENBQVEsSUFFN0JKLEVBQVc3RCxTQUFTcUQsSUFDbEIsSUFBSWEsRUFBZWIsRUFBUzVELFlBQVlzRSxRQUFRLGFBQWMsSUFDOURWLEVBQVM1RCxZQUFjeUUsRUFDTSxxQkFBekJiLEVBQVM1RCxhQUNYNEQsRUFBU0osTUFBTWtCLE1BQVEsVUFDdkJkLEVBQVNKLE1BQU1tQixXQUFhLE9BQ00sZUFBekJmLEVBQVM1RCxhQUNsQjRELEVBQVNKLE1BQU1rQixNQUFRLFVBQ3ZCZCxFQUFTSixNQUFNbUIsV0FBYSxPQUU1QmYsRUFBU0osTUFBTWtCLE1BQVEsU0FDekIsR0FFSixDQUNGLENGeEJJRSxFQUF1QixJQUdOekUsU0FBU1UsY0FBYyxxQkFDL0JXLGlCQUFpQixTQUFVWSxJQUNwQ0EsRUFBRUMsaUJBQ0YsRUFBUWpCLFVBQVVFLE9BQU8sV0FDekIsRUFBS0YsVUFBVUUsT0FBTyxVQUFVLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9lbGVtZW50RmFjdG9yeS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9jbGVhckR1cGxpY2F0ZS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy90b2Rvcy5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9jbGVhclBhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvZm9ybWF0VG9kb3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZWxlbWVudEZhY3RvcnkgPSAodHlwZSwgYXR0cmlidXRlcywgdGV4dENvbnRlbnQsIC4uLmNoaWxkcmVuKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgZm9yIChsZXQga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgIH1cbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XG5cbiAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZClcbiAgICB9KTtcblxuICAgIHJldHVybiBlbGVtZW50O1xufVxuXG5leHBvcnQgZGVmYXVsdCBlbGVtZW50RmFjdG9yeTsiLCJpbXBvcnQgZWxlbWVudEZhY3RvcnkgZnJvbSAnLi9lbGVtZW50RmFjdG9yeSc7XG5pbXBvcnQgY2xlYXJEdXBsaWNhdGUgZnJvbSAnLi9jbGVhckR1cGxpY2F0ZSc7XG5pbXBvcnQgeyB0b2RvQXJyYXkgfSBmcm9tICcuL3RvZG9zJztcbmltcG9ydCB7IGRpc3BsYXlUb2RvcyB9IGZyb20gJy4vdG9kb3MnO1xuXG5leHBvcnQgbGV0IHByb2plY3RBcnJheSA9IFtdO1xuZXhwb3J0IGxldCBjdXJyZW50UHJvamVjdDtcblxuY29uc3QgcHJvamVjdENsYXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZFByb2plY3QtcG9wdXAnKTtcbmNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheScpO1xuXG4vLyBQdXNoIHByb2plY3QgdG8gYXJyYXlcbmZ1bmN0aW9uIHB1c2hQcm9qZWN0KHByb2plY3ROYW1lKSB7XG4gICAgaWYgKHByb2plY3ROYW1lICE9PSBudWxsICYmICFwcm9qZWN0QXJyYXkuaW5jbHVkZXMocHJvamVjdE5hbWUpICYmIHByb2plY3ROYW1lICE9PSAnJyAmJiBwcm9qZWN0TmFtZSAhPT0gJyAnKSB7XG4gICAgICAgIHByb2plY3RBcnJheS5wdXNoKHByb2plY3ROYW1lKTtcbiAgICAgICAgdG9kb0FycmF5LnB1c2goW10pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGVQcm9qZWN0JykudmFsdWUgPSAnJztcbiAgICAgICAgcHJvamVjdENsYXNzLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgIGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdE5hbWU7XG4gICAgICAgIGRpc3BsYXlBcnJheVByb2plY3RzKCk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub1Byb2plY3RzRGl2Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydCgnUGxlYXNlLCBpbnRyb2R1Y2UgYSB2YWxpZCBwcm9qZWN0IG5hbWUgb3IgeW91IHRoYXQgeW91IGhhdmVuXFwndCBpbnRyb2R1Y2VkIHlldC4nKTtcbiAgICB9O1xuICAgIHJldHVybiBwcm9qZWN0QXJyYXk7XG59O1xuXG4vLyBTdHlsZSBlYWNoIHByb2plY3Qgd2hlbiBjbGlja2VkXG5mdW5jdGlvbiBzdHlsZVByb2plY3QoKSB7XG4gICAgbGV0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3RzTmFtZURpdicpO1xuICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgIGlmIChwcm9qZWN0QXJyYXkuaW5kZXhPZihjdXJyZW50UHJvamVjdCkgPT0gcHJvamVjdC5nZXRBdHRyaWJ1dGUoJ2luZGV4JykpIHtcbiAgICAgICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZCgnY2xpY2tlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdjbGlja2VkJyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmZ1bmN0aW9uIGRpc3BsYXlBcnJheVByb2plY3RzKCkge1xuICAgIC8vIENoYW5nZSBwcm9qZWN0IGlucHV0IGRpc3BsYXkgcHJvcGVydHlcbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZFByaicpO1xuICAgIGFkZFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RDbGFzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGRQcm9qZWN0LXBvcHVwJyk7XG4gICAgICAgIHByb2plY3RDbGFzcy5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgY2xlYXJEdXBsaWNhdGUoJy5wcm9qZWN0c05hbWVEaXYnKTtcbiAgICBwcm9qZWN0QXJyYXkuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgbGV0IGluZGV4ID0gcHJvamVjdEFycmF5LmluZGV4T2YocHJvamVjdCk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lRGl2ID0gZWxlbWVudEZhY3RvcnkoJ2RpdicsIHsgY2xhc3M6ICdwcm9qZWN0c05hbWVEaXYnLCBpbmRleCB9KTtcbiAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBlbGVtZW50RmFjdG9yeSgnZGl2JywgeyBjbGFzczogJ3Byb2plY3RzTmFtZScgfSwgcHJvamVjdCk7XG4gICAgICAgIGNvbnN0IHJlbW92ZVByb2plY3QgPSBlbGVtZW50RmFjdG9yeSgnYnV0dG9uJywgeyBjbGFzczogJ3JlbW92ZVByb2plY3QnIH0sICd4Jyk7XG4gICAgICAgIHByb2plY3ROYW1lRGl2LmFwcGVuZENoaWxkKHByb2plY3ROYW1lKTtcbiAgICAgICAgcHJvamVjdE5hbWVEaXYuYXBwZW5kQ2hpbGQocmVtb3ZlUHJvamVjdCk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kaXNwbGF5UHJvamVjdHMnKS5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZURpdik7XG5cblxuICAgICAgICBwcm9qZWN0TmFtZURpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdE5hbWVEaXYucXVlcnlTZWxlY3RvcignLnByb2plY3RzTmFtZScpLnRleHRDb250ZW50O1xuICAgICAgICAgICAgZGlzcGxheVRvZG9zKHByb2plY3RBcnJheS5pbmRleE9mKGN1cnJlbnRQcm9qZWN0KSk7XG4gICAgICAgICAgICBkaXNwbGF5QXJyYXlQcm9qZWN0cygpO1xuICAgICAgICAgICAgc3R5bGVQcm9qZWN0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlbW92ZSBwcm9qZWN0c1xuICAgICAgICByZW1vdmVQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSByZW1vdmVQcm9qZWN0LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdpbmRleCcpO1xuICAgICAgICAgICAgcHJvamVjdEFycmF5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0b2RvQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0QXJyYXkubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UHJvamVjdCA9IHByb2plY3RBcnJheVswXTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5QXJyYXlQcm9qZWN0cygpO1xuICAgICAgICAgICAgICAgIGRpc3BsYXlUb2Rvcyhwcm9qZWN0QXJyYXkuaW5kZXhPZihjdXJyZW50UHJvamVjdCkpO1xuICAgICAgICAgICAgICAgIHN0eWxlUHJvamVjdCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9qZWN0QXJyYXkuaW5jbHVkZXMoY3VycmVudFByb2plY3QpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFByb2plY3QgPSBjdXJyZW50UHJvamVjdDtcbiAgICAgICAgICAgICAgICBkaXNwbGF5QXJyYXlQcm9qZWN0cygpO1xuICAgICAgICAgICAgICAgIGRpc3BsYXlUb2Rvcyhwcm9qZWN0QXJyYXkuaW5kZXhPZihjdXJyZW50UHJvamVjdCkpO1xuICAgICAgICAgICAgICAgIHN0eWxlUHJvamVjdCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghcHJvamVjdEFycmF5LmluY2x1ZGVzKGN1cnJlbnRQcm9qZWN0KSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdEFycmF5WzBdO1xuICAgICAgICAgICAgICAgIGRpc3BsYXlBcnJheVByb2plY3RzKCk7XG4gICAgICAgICAgICAgICAgZGlzcGxheVRvZG9zKHByb2plY3RBcnJheS5pbmRleE9mKGN1cnJlbnRQcm9qZWN0KSk7XG4gICAgICAgICAgICAgICAgc3R5bGVQcm9qZWN0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9qZWN0ID0gJyc7XG4gICAgICAgICAgICAgICAgZGlzcGxheUFycmF5UHJvamVjdHMoKTtcbiAgICAgICAgICAgICAgICByZW1vdmVEb20oJy5kaXNwbGF5VG9kbycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0RG9tKCkge1xuICAgIGRpc3BsYXlBcnJheVByb2plY3RzKCk7XG5cbiAgICAvLyBDb25maXJtIG5ldyBwcm9qZWN0IG5hbWUgYnV0dG9uXG4gICAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb25maXJtQnV0dG9uJyk7XG4gICAgY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZVByb2plY3QnKS52YWx1ZTtcbiAgICAgICAgcHVzaFByb2plY3QoaW5wdXRWYWx1ZSk7XG4gICAgICAgIHN0eWxlUHJvamVjdCgpO1xuICAgICAgICBkaXNwbGF5VG9kb3MocHJvamVjdEFycmF5LmluZGV4T2YoY3VycmVudFByb2plY3QpKTtcbiAgICB9KTtcblxuICAgIC8vIENhbmNlbCBuZXcgcHJvamVjdCBuYW1lIGJ1dHRvblxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW5jZWxCdXR0b24nKTtcbiAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RDbGFzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGRQcm9qZWN0LXBvcHVwJyk7XG4gICAgICAgIHByb2plY3RDbGFzcy5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xufTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckR1cGxpY2F0ZShuYW1lKSB7XG4gICAgbGV0IGFycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChuYW1lKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldLnJlbW92ZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgZWxlbWVudEZhY3RvcnkgZnJvbSBcIi4vZWxlbWVudEZhY3RvcnlcIjtcbmltcG9ydCB7IHByb2plY3RBcnJheSB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5pbXBvcnQgeyBjdXJyZW50UHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5pbXBvcnQgcmVtb3ZlRG9tIGZyb20gXCIuL2NsZWFyUGFnZVwiO1xuaW1wb3J0IGZvcm1hdFRvZG9zUGFyYWdyYXBocyBmcm9tIFwiLi9mb3JtYXRUb2Rvc1wiO1xuXG5leHBvcnQgY29uc3QgdG9kb0FycmF5ID0gW107XG5jb25zdCBkaXNwbGF5RXZlcnlUb2RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kaXNwbGF5VG9kb3NcIik7XG5jb25zdCBjaGFuZ2VGb3JtRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVG9kb1wiKTtcbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy1wcm9qZWN0LWZvcm1cIik7XG5jb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vdmVybGF5XCIpO1xuXG5jb25zdCB0b2RvRmFjdG9yeSA9ICh0aXRsZSwgZHVlRGF0ZSwgcHJpb3JpdHkpID0+IHtcbiAgcmV0dXJuIHsgdGl0bGUsIGR1ZURhdGUsIHByaW9yaXR5IH07XG59O1xuXG5mdW5jdGlvbiBkaXNwbGF5TmV3VG9kb0Zvcm0oKSB7XG4gIGNoYW5nZUZvcm1EaXNwbGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcbiAgICBmb3JtLmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xuICB9KTtcblxuICBjb25zdCBjb25maXJtRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29uZmlybUJ1dHRvbkZvcm1cIik7XG4gIGNvbmZpcm1Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBmb3JtRGF0YSgpO1xuICAgIGZvcm1hdFRvZG9zUGFyYWdyYXBocygpO1xuICB9KTtcblxuICBjb25zdCBjYW5jZWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWxCdXR0b25Gb3JtXCIpO1xuICBjYW5jZWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xuICAgIGZvcm0uY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBmb3JtRGF0YSgpIHtcbiAgaWYgKHByb2plY3RBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5vUHJvamVjdHNEaXZcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBjbGVhckRhdGEoKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xuICAgIGxldCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWVEYXRlXCIpLnZhbHVlO1xuICAgIGlmIChkdWVEYXRlID09IFwiXCIpIHtcbiAgICAgIGR1ZURhdGUgPSBcIk5vIGRhdGUgcHJldmlld1wiO1xuICAgIH1cbiAgICBsZXQgcHJpb3JpdHkgPVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS5vcHRpb25zW1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5XCIpLnNlbGVjdGVkSW5kZXhcbiAgICAgIF0udGV4dDtcbiAgICB0b2RvQXJyYXlbcHJvamVjdEFycmF5LmluZGV4T2YoY3VycmVudFByb2plY3QpXS5wdXNoKFxuICAgICAgdG9kb0ZhY3RvcnkodGl0bGUsIGR1ZURhdGUsIHByaW9yaXR5KVxuICAgICk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ub1Byb2plY3RzRGl2XCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkaXNwbGF5VG9kb3MocHJvamVjdEFycmF5LmluZGV4T2YoY3VycmVudFByb2plY3QpKTtcbiAgICBjbGVhckRhdGEoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheVRvZG9zKGluZGV4KSB7XG4gIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XG4gIGZvcm0uY2xhc3NMaXN0LnJlbW92ZShcInZpc2libGVcIik7XG5cbiAgcmVtb3ZlRG9tKFwiLmRpc3BsYXlUb2RvXCIpO1xuXG4gIGxldCBpbmRleFBhcmFncmFwaCA9IDA7XG4gIGlmIChwcm9qZWN0QXJyYXkubGVuZ3RoID4gMCkge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdG9kb0FycmF5W2luZGV4XS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgZGlzcGxheVRvZG8gPSBlbGVtZW50RmFjdG9yeShcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAgeyBjbGFzczogXCJkaXNwbGF5VG9kb1wiIH0sXG4gICAgICAgIHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICAgIGZvciAobGV0IGtleSBpbiB0b2RvQXJyYXlbaW5kZXhdW2pdKSB7XG4gICAgICAgIGRpc3BsYXlUb2RvLmFwcGVuZENoaWxkKFxuICAgICAgICAgIGVsZW1lbnRGYWN0b3J5KFxuICAgICAgICAgICAgXCJwXCIsXG4gICAgICAgICAgICB7IGNsYXNzOiBgJHtrZXl9VG9kb2AgfSxcbiAgICAgICAgICAgIGAke2tleX06ICR7dG9kb0FycmF5W2luZGV4XVtqXVtrZXldfWBcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCByZW1vdmVCdXR0b24gPSBlbGVtZW50RmFjdG9yeShcbiAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgeyBjbGFzczogXCJyZW1vdmVUb2RvXCIsIGluZGV4UGFyYWdyYXBoIH0sXG4gICAgICAgIFwieFwiXG4gICAgICApO1xuICAgICAgZGlzcGxheVRvZG8uYXBwZW5kQ2hpbGQocmVtb3ZlQnV0dG9uKTtcbiAgICAgIGRpc3BsYXlFdmVyeVRvZG8uYXBwZW5kQ2hpbGQoZGlzcGxheVRvZG8pO1xuICAgICAgaW5kZXhQYXJhZ3JhcGgrKztcblxuICAgICAgcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRvZG9BcnJheVtwcm9qZWN0QXJyYXkuaW5kZXhPZihjdXJyZW50UHJvamVjdCldLnNwbGljZShcbiAgICAgICAgICByZW1vdmVCdXR0b24uZ2V0QXR0cmlidXRlKFwiaW5kZXhQYXJhZ3JhcGhcIiksXG4gICAgICAgICAgMVxuICAgICAgICApO1xuICAgICAgICBkaXNwbGF5VG9kb3MocHJvamVjdEFycmF5LmluZGV4T2YoY3VycmVudFByb2plY3QpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhckRhdGEoKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWUgPSBcIlwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZURhdGVcIikudmFsdWUgPSBcIlwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9kb3MoKSB7XG4gIGRpc3BsYXlOZXdUb2RvRm9ybSgpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlRG9tKGNsYXNzTmFtZSkge1xuICAgIGxldCBjaGlsZHJlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY2xhc3NOYW1lKTtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgY2hpbGQucmVtb3ZlKCk7XG4gICAgfSk7XG59IiwiaW1wb3J0IHsgdG9kb0FycmF5IH0gZnJvbSBcIi4vdG9kb3NcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9ybWF0VG9kb3NQYXJhZ3JhcGhzKCkge1xuICBpZiAodG9kb0FycmF5Lmxlbmd0aCA+PSAxKSB7XG4gICAgLy8gY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlVG9kb1wiKTtcbiAgICAvLyBjb25zdCBkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kdWVEYXRlVG9kb1wiKTtcbiAgICAvLyBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJpb3JpdHlUb2RvXCIpO1xuXG4gICAgLy8gbGV0IHRpdGxlVGV4dCA9IHRpdGxlLnRleHRDb250ZW50LnJlcGxhY2UoL3RpdGxlOi9nLCBcIlwiKTtcbiAgICAvLyB0aXRsZS50ZXh0Q29udGVudCA9IHRpdGxlVGV4dDtcbiAgICAvLyBsZXQgZGF0ZVRleHQgPSBkYXRlLnRleHRDb250ZW50LnJlcGxhY2UoL2R1ZURhdGU6L2csIFwiRGVhZGxpbmU6XCIpO1xuICAgIC8vIGRhdGUudGV4dENvbnRlbnQgPSBkYXRlVGV4dDtcbiAgICAvLyBsZXQgcHJpb3JpdHlUZXh0ID0gcHJpb3JpdHkudGV4dENvbnRlbnQucmVwbGFjZSgvcHJpb3JpdHk6L2csIFwiXCIpO1xuICAgIC8vIHByaW9yaXR5LnRleHRDb250ZW50ID0gcHJpb3JpdHlUZXh0O1xuXG4gICAgLy8gaWYgKHByaW9yaXR5LnRleHRDb250ZW50ID09PSBcIiBTdXBlciBpbXBvcnRhbnRcIikge1xuICAgIC8vICAgcHJpb3JpdHkuc3R5bGUuY29sb3IgPSBcIiM4NGY1NDJcIjtcbiAgICAvLyAgIHByaW9yaXR5LnN0eWxlLmZvbnRXZWlnaHQgPSBcIjkwMFwiO1xuICAgIC8vIH0gZWxzZSBpZiAocHJpb3JpdHkudGV4dENvbnRlbnQgPT09IFwiIEltcG9ydGFudFwiKSB7XG4gICAgLy8gICBwcmlvcml0eS5zdHlsZS5jb2xvciA9IFwiI2U5ZjU0MlwiO1xuICAgIC8vICAgcHJpb3JpdHkuc3R5bGUuZm9udFdlaWdodCA9IFwiOTAwXCI7XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgIHByaW9yaXR5LnN0eWxlLmNvbG9yID0gXCJibGFja1wiO1xuICAgIC8vIH1cbiAgICBjb25zdCB0aXRsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRpdGxlVG9kb1wiKTtcbiAgICBjb25zdCBkYXRlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHVlRGF0ZVRvZG9cIik7XG4gICAgY29uc3QgcHJpb3JpdGllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJpb3JpdHlUb2RvXCIpO1xuXG4gICAgdGl0bGVzLmZvckVhY2goKHRpdGxlKSA9PiB7XG4gICAgICBsZXQgdGl0bGVUZXh0ID0gdGl0bGUudGV4dENvbnRlbnQucmVwbGFjZSgvdGl0bGU6L2csIFwiXCIpO1xuICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZVRleHQ7XG4gICAgfSk7XG4gICAgZGF0ZXMuZm9yRWFjaCgoZGF0ZSkgPT4ge1xuICAgICAgbGV0IGRhdGVUZXh0ID0gZGF0ZS50ZXh0Q29udGVudC5yZXBsYWNlKC9kdWVEYXRlOi9nLCBcIkRlYWRsaW5lOlwiKTtcbiAgICAgIGRhdGUudGV4dENvbnRlbnQgPSBkYXRlVGV4dDtcbiAgICB9KTtcbiAgICBwcmlvcml0aWVzLmZvckVhY2goKHByaW9yaXR5KSA9PiB7XG4gICAgICBsZXQgcHJpb3JpdHlUZXh0ID0gcHJpb3JpdHkudGV4dENvbnRlbnQucmVwbGFjZSgvcHJpb3JpdHk6L2csIFwiXCIpO1xuICAgICAgcHJpb3JpdHkudGV4dENvbnRlbnQgPSBwcmlvcml0eVRleHQ7XG4gICAgICBpZiAocHJpb3JpdHkudGV4dENvbnRlbnQgPT09IFwiIFN1cGVyIGltcG9ydGFudFwiKSB7XG4gICAgICAgIHByaW9yaXR5LnN0eWxlLmNvbG9yID0gXCIjZjViNTA3XCI7XG4gICAgICAgIHByaW9yaXR5LnN0eWxlLmZvbnRXZWlnaHQgPSBcIjkwMFwiO1xuICAgICAgfSBlbHNlIGlmIChwcmlvcml0eS50ZXh0Q29udGVudCA9PT0gXCIgSW1wb3J0YW50XCIpIHtcbiAgICAgICAgcHJpb3JpdHkuc3R5bGUuY29sb3IgPSBcIiNlOWY1NDJcIjtcbiAgICAgICAgcHJpb3JpdHkuc3R5bGUuZm9udFdlaWdodCA9IFwiOTAwXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmlvcml0eS5zdHlsZS5jb2xvciA9IFwiIzg0ZjU0MlwiO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsidHlwZSIsImF0dHJpYnV0ZXMiLCJ0ZXh0Q29udGVudCIsImNoaWxkcmVuIiwiZWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImtleSIsInNldEF0dHJpYnV0ZSIsImZvckVhY2giLCJjaGlsZCIsImFwcGVuZENoaWxkIiwiY3VycmVudFByb2plY3QiLCJwcm9qZWN0QXJyYXkiLCJwcm9qZWN0Q2xhc3MiLCJxdWVyeVNlbGVjdG9yIiwib3ZlcmxheSIsInN0eWxlUHJvamVjdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm9qZWN0IiwiaW5kZXhPZiIsImdldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImRpc3BsYXlBcnJheVByb2plY3RzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5hbWUiLCJhcnJheSIsImkiLCJsZW5ndGgiLCJjbGVhckR1cGxpY2F0ZSIsImluZGV4IiwicHJvamVjdE5hbWVEaXYiLCJjbGFzcyIsInByb2plY3ROYW1lIiwicmVtb3ZlUHJvamVjdCIsImRpc3BsYXlUb2RvcyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInBhcmVudE5vZGUiLCJzcGxpY2UiLCJ0b2RvQXJyYXkiLCJpbmNsdWRlcyIsInJlbW92ZURvbSIsImRpc3BsYXlFdmVyeVRvZG8iLCJjaGFuZ2VGb3JtRGlzcGxheSIsImluZGV4UGFyYWdyYXBoIiwiaiIsImRpc3BsYXlUb2RvIiwidW5kZWZpbmVkIiwicmVtb3ZlQnV0dG9uIiwiY2xlYXJEYXRhIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsImFsZXJ0IiwicHVzaCIsInN0eWxlIiwiZGlzcGxheSIsInRpdGxlIiwiZHVlRGF0ZSIsInByaW9yaXR5Iiwib3B0aW9ucyIsInNlbGVjdGVkSW5kZXgiLCJ0ZXh0IiwidG9kb0ZhY3RvcnkiLCJmb3JtRGF0YSIsInRpdGxlcyIsImRhdGVzIiwicHJpb3JpdGllcyIsInRpdGxlVGV4dCIsInJlcGxhY2UiLCJkYXRlIiwiZGF0ZVRleHQiLCJwcmlvcml0eVRleHQiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJmb3JtYXRUb2Rvc1BhcmFncmFwaHMiXSwic291cmNlUm9vdCI6IiJ9